{"version":3,"sources":["keyboard.js"],"names":["global","contains","s","ss","String","indexOf","mergeIf","baseTable","select","table","browser_os","browser","os","Object","keys","forEach","keyCode","remap","o","key","r","k","item","keyInfoForEvent","event","which","keyInfo","nativeLocation","location","keyLocation","locationTable","keyIdentifier","keyIdentifierTable","keyCodeToInfoTable","entry","codeToKeyTable","code","shiftKey","keyCap","queryKeyCap","locale","codeTable","hasOwnProperty","toLowerCase","Error","nativeKeyboardEvent","KeyboardEvent","TypeError","DOM_KEY_LOCATION_STANDARD","DOM_KEY_LOCATION_LEFT","DOM_KEY_LOCATION_RIGHT","DOM_KEY_LOCATION_NUMPAD","STANDARD","window","LEFT","RIGHT","NUMPAD","navigator","platform","userAgent","vendor","3","6","8","9","12","13","16","17","18","19","20","21","22","23","24","25","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","144","145","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","186","187","188","189","190","191","192","219","220","221","222","226","229","246","247","248","249","250","251","254","59","61","10","224","ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","OSLeft","OSRight","NumpadEnter","Space","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadMultiply","NumpadAdd","NumpadComma","NumpadSubtract","NumpadDecimal","NumpadDivide","Semicolon","Equal","Comma","Minus","Period","Slash","Backquote","BracketLeft","Backslash","BracketRight","Quote","IntlBackslash","keyFixTable","Esc","Nonconvert","Left","Up","Right","Down","Del","Menu","MediaNextTrack","MediaPreviousTrack","SelectMedia","HalfWidth","FullWidth","RomanCharacters","Crsel","Exsel","Zoom","_","define","p","v","defineProperty","prototype","get","this","desc","getOwnPropertyDescriptor","call","identifyKey","self"],"mappings":"CAAC,SAASA,GAqBR,QAASC,GAASC,EAAGC,GAAM,MAAOC,QAAOF,GAAGG,QAAQF,MAAQ,EAsB5D,QAASG,GAAQC,EAAWC,EAAQC,GAC9BC,IAAeF,GAAUG,IAAYH,GAAUI,IAAOJ,GACxDK,OAAOC,KAAKL,GAAOM,QAAQ,SAASC,GAClCT,EAAUS,GAAWP,EAAMO,KAKjC,QAASC,GAAMC,EAAGC,GAChB,GAAIC,KAOJ,OANAP,QAAOC,KAAKI,GAAGH,QAAQ,SAASM,GAC9B,GAAIC,GAAOJ,EAAEG,EACTF,KAAOG,KACTF,EAAEE,EAAKH,IAAQG,KAGZF,EAyiBT,QAASG,GAAgBC,GACvB,GAAIR,GAAU,WAAaQ,GAAQA,EAAMR,QAAU,SAAWQ,GAAQA,EAAMC,MAAQ,EAChFC,EAAW,WACb,GAAIC,GAAkB,eAAiBH,GAAO,CAC5C,GAAII,GAAWD,EAAiBH,EAAMI,SAAWJ,EAAMK,WACvD,IAAID,GAAYZ,IAAWc,GAAcF,GACvC,MAAOE,GAAcF,GAAUZ,GAGnC,MAAI,iBAAmBQ,IAASA,EAAMO,gBAAiBC,GAC9CA,EAAmBR,EAAMO,eAE9Bf,IAAWiB,GACNA,EAAmBjB,GAErB,OAiBT,KAAKU,EACH,MAAO,KAET,IAAIP,GAAO,WACT,GAAIe,GAAQC,EAAeT,EAAQU,KACnC,OAAKF,GACGV,EAAMa,UAAY,YAAcH,GAASA,EAAMG,SAAWH,EAAMf,IADrDO,EAAQU,OAI7B,QACEA,KAAMV,EAAQU,KACdjB,IAAKA,EACLS,SAAUF,EAAQE,SAClBU,OAAQZ,EAAQY,QAIpB,QAASC,GAAYH,EAAMI,GAEzB,GADAJ,EAAOhC,OAAOgC,IACTK,EAAUC,eAAeN,GAAO,MAAO,WAC5C,IAAII,GAA2C,UAAjCpC,OAAOoC,GAAQG,cAA2B,KAAMC,OAAM,qBACpE,IAAIlB,GAAUe,EAAUL,EACxB,OAAOV,GAAQY,QAAUZ,EAAQU,MAAQ,YAzpB3C,GAAIS,GAAuB,iBAAmB7C,EACzC6C,KACH7C,EAAO8C,cAAgB,WAA2B,KAAMC,WAAU,yBAEpE/C,EAAO8C,cAAcE,0BAA4B,EACjDhD,EAAO8C,cAAcG,sBAAiC,EACtDjD,EAAO8C,cAAcI,uBAAiC,EACtDlD,EAAO8C,cAAcK,wBAAiC,CAEtD,IAAIC,GAAWC,OAAOP,cAAcE,0BAChCM,EAAOD,OAAOP,cAAcG,sBAC5BM,EAAQF,OAAOP,cAAcI,uBAC7BM,EAASH,OAAOP,cAAcK,wBAU9BvC,EAAM,WACR,MAAIX,GAASwD,UAAUC,SAAU,OAAiB,MAC9CzD,EAASwD,UAAUC,SAAU,OAAiB,MAC9CzD,EAASwD,UAAUC,SAAU,QAAkB,OAC/CzD,EAASwD,UAAUC,SAAU,SAAmB,QAChDzD,EAASwD,UAAUE,UAAW,SAAW1D,EAASwD,UAAUC,SAAU,SAAWzD,EAASwD,UAAUC,SAAU,UAAoB,MAC/H,MAGL/C,EAAW,WACb,MAAIV,GAASwD,UAAUE,UAAW,WAAqB,SACnD1D,EAASwD,UAAUG,OAAQ,SAAmB,SAC9C3D,EAASwD,UAAUE,UAAW,QAAkB,KAChD1D,EAASwD,UAAUE,UAAW,UAAoB,MAClD1D,EAASwD,UAAUE,UAAW,UAAoB,QAC/C,MAGLjD,EAAaC,EAAU,IAAMC,EA2C7BqB,GAGF4B,GAAQzB,KAAM,UAId0B,GAAQ1B,KAAM,QAEd2B,GAAQ3B,KAAM,aACd4B,GAAQ5B,KAAM,OAEd6B,IAAQ7B,KAAM,SACd8B,IAAQ9B,KAAM,SAGd+B,IAAQ/B,KAAM,SACdgC,IAAQhC,KAAM,WACdiC,IAAQjC,KAAM,OACdkC,IAAQlC,KAAM,SACdmC,IAAQnC,KAAM,YACdoC,IAAQpC,KAAM,YACdqC,IAAQrC,KAAM,cACdsC,IAAQtC,KAAM,aACduC,IAAQvC,KAAM,aACdwC,IAAQxC,KAAM,aAEdyC,IAAQzC,KAAM,UACd0C,IAAQ1C,KAAM,WACd2C,IAAQ3C,KAAM,cACd4C,IAAQ5C,KAAM,UACd6C,IAAQ7C,KAAM,cAEd8C,IAAQ9C,KAAM,SACd+C,IAAQ/C,KAAM,UACdgD,IAAQhD,KAAM,YACdiD,IAAQjD,KAAM,OACdkD,IAAQlD,KAAM,QACdmD,IAAQnD,KAAM,aACdoD,IAAQpD,KAAM,WACdqD,IAAQrD,KAAM,cACdsD,IAAQtD,KAAM,aACduD,IAAQvD,KAAM,UACdwD,IAAQxD,KAAM,SACdyD,IAAQzD,KAAM,WACd0D,IAAQ1D,KAAM,eACd2D,IAAQ3D,KAAM,UACd4D,IAAQ5D,KAAM,UACd6D,IAAQ7D,KAAM,QAEd8D,IAAQ9D,KAAM,SAAUE,OAAQ,KAChC6D,IAAQ/D,KAAM,SAAUE,OAAQ,KAChC8D,IAAQhE,KAAM,SAAUE,OAAQ,KAChC+D,IAAQjE,KAAM,SAAUE,OAAQ,KAChCgE,IAAQlE,KAAM,SAAUE,OAAQ,KAChCiE,IAAQnE,KAAM,SAAUE,OAAQ,KAChCkE,IAAQpE,KAAM,SAAUE,OAAQ,KAChCmE,IAAQrE,KAAM,SAAUE,OAAQ,KAChCoE,IAAQtE,KAAM,SAAUE,OAAQ,KAChCqE,IAAQvE,KAAM,SAAUE,OAAQ,KAGhCsE,IAAQxE,KAAM,OAAQE,OAAQ,KAC9BuE,IAAQzE,KAAM,OAAQE,OAAQ,KAC9BwE,IAAQ1E,KAAM,OAAQE,OAAQ,KAC9ByE,IAAQ3E,KAAM,OAAQE,OAAQ,KAC9B0E,IAAQ5E,KAAM,OAAQE,OAAQ,KAC9B2E,IAAQ7E,KAAM,OAAQE,OAAQ,KAC9B4E,IAAQ9E,KAAM,OAAQE,OAAQ,KAC9B6E,IAAQ/E,KAAM,OAAQE,OAAQ,KAC9B8E,IAAQhF,KAAM,OAAQE,OAAQ,KAC9B+E,IAAQjF,KAAM,OAAQE,OAAQ,KAC9BgF,IAAQlF,KAAM,OAAQE,OAAQ,KAC9BiF,IAAQnF,KAAM,OAAQE,OAAQ,KAC9BkF,IAAQpF,KAAM,OAAQE,OAAQ,KAC9BmF,IAAQrF,KAAM,OAAQE,OAAQ,KAC9BoF,IAAQtF,KAAM,OAAQE,OAAQ,KAE9BqF,IAAQvF,KAAM,OAAQE,OAAQ,KAC9BsF,IAAQxF,KAAM,OAAQE,OAAQ,KAC9BuF,IAAQzF,KAAM,OAAQE,OAAQ,KAC9BwF,IAAQ1F,KAAM,OAAQE,OAAQ,KAC9ByF,IAAQ3F,KAAM,OAAQE,OAAQ,KAC9B0F,IAAQ5F,KAAM,OAAQE,OAAQ,KAC9B2F,IAAQ7F,KAAM,OAAQE,OAAQ,KAC9B4F,IAAQ9F,KAAM,OAAQE,OAAQ,KAC9B6F,IAAQ/F,KAAM,OAAQE,OAAQ,KAC9B8F,IAAQhG,KAAM,OAAQE,OAAQ,KAC9B+F,IAAQjG,KAAM,OAAQE,OAAQ,KAC9BgG,IAAQlG,KAAM,SAAUR,SAAU0B,GAClCiF,IAAQnG,KAAM,UAAWR,SAAU2B,GACnCiF,IAAQpG,KAAM,eAEdqG,IAAQrG,KAAM,WAEdsG,IAAQtG,KAAM,UAAWE,OAAQ,IAAKV,SAAU4B,GAChDmF,IAAQvG,KAAM,UAAWE,OAAQ,IAAKV,SAAU4B,GAChDoF,IAAQxG,KAAM,UAAWE,OAAQ,IAAKV,SAAU4B,GAChDqF,IAAQzG,KAAM,UAAWE,OAAQ,IAAKV,SAAU4B,GAChDsF,KAAQ1G,KAAM,UAAWE,OAAQ,IAAKV,SAAU4B,GAChDuF,KAAQ3G,KAAM,UAAWE,OAAQ,IAAKV,SAAU4B,GAChDwF,KAAQ5G,KAAM,UAAWE,OAAQ,IAAKV,SAAU4B,GAChDyF,KAAQ7G,KAAM,UAAWE,OAAQ,IAAKV,SAAU4B,GAChD0F,KAAQ9G,KAAM,UAAWE,OAAQ,IAAKV,SAAU4B,GAChD2F,KAAQ/G,KAAM,UAAWE,OAAQ,IAAKV,SAAU4B,GAChD4F,KAAQhH,KAAM,iBAAkBE,OAAQ,IAAKV,SAAU4B,GACvD6F,KAAQjH,KAAM,YAAaE,OAAQ,IAAKV,SAAU4B,GAClD8F,KAAQlH,KAAM,cAAeE,OAAQ,IAAKV,SAAU4B,GACpD+F,KAAQnH,KAAM,iBAAkBE,OAAQ,IAAKV,SAAU4B,GACvDgG,KAAQpH,KAAM,gBAAiBE,OAAQ,IAAKV,SAAU4B,GACtDiG,KAAQrH,KAAM,eAAgBE,OAAQ,IAAKV,SAAU4B,GAErDkG,KAAQtH,KAAM,MACduH,KAAQvH,KAAM,MACdwH,KAAQxH,KAAM,MACdyH,KAAQzH,KAAM,MACd0H,KAAQ1H,KAAM,MACd2H,KAAQ3H,KAAM,MACd4H,KAAQ5H,KAAM,MACd6H,KAAQ7H,KAAM,MACd8H,KAAQ9H,KAAM,MACd+H,KAAQ/H,KAAM,OACdgI,KAAQhI,KAAM,OACdiI,KAAQjI,KAAM,OACdkI,KAAQlI,KAAM,OACdmI,KAAQnI,KAAM,OACdoI,KAAQpI,KAAM,OACdqI,KAAQrI,KAAM,OAEdsI,KAAQtI,KAAM,OACduI,KAAQvI,KAAM,OACdwI,KAAQxI,KAAM,OACdyI,KAAQzI,KAAM,OACd0I,KAAQ1I,KAAM,OACd2I,KAAQ3I,KAAM,OACd4I,KAAQ5I,KAAM,OACd6I,KAAQ7I,KAAM,OAGd8I,KAAQ9I,KAAM,UAAWR,SAAU4B,GACnC2H,KAAQ/I,KAAM,cAKdgJ,KAAQhJ,KAAM,YAAaR,SAAU0B,GACrC+H,KAAQjJ,KAAM,aAAcR,SAAU2B,GACtC+H,KAAQlJ,KAAM,cAAeR,SAAU0B,GACvCiI,KAAQnJ,KAAM,eAAgBR,SAAU2B,GACxCiI,KAAQpJ,KAAM,UAAWR,SAAU0B,GACnCmI,KAAQrJ,KAAM,WAAYR,SAAU2B,GAEpCmI,KAAQtJ,KAAM,eACduJ,KAAQvJ,KAAM,kBACdwJ,KAAQxJ,KAAM,kBACdyJ,KAAQzJ,KAAM,eACd0J,KAAQ1J,KAAM,iBACd2J,KAAQ3J,KAAM,oBACd4J,KAAQ5J,KAAM,eACd6J,KAAQ7J,KAAM,cACd8J,KAAQ9J,KAAM,cACd+J,KAAQ/J,KAAM,YAEdgK,KAAQhK,KAAM,kBACdiK,KAAQjK,KAAM,sBACdkK,KAAQlK,KAAM,aACdmK,KAAQnK,KAAM,kBACdoK,KAAQpK,KAAM,cACdqK,KAAQrK,KAAM,eACdsK,KAAQtK,KAAM,cACduK,KAAQvK,KAAM,cAEdwK,KAAQxK,KAAM,YAAcE,OAAQ,KACpCuK,KAAQzK,KAAM,QAASE,OAAQ,KAC/BwK,KAAQ1K,KAAM,QAASE,OAAQ,KAC/ByK,KAAQ3K,KAAM,QAASE,OAAQ,KAC/B0K,KAAQ5K,KAAM,SAAUE,OAAQ,KAChC2K,KAAQ7K,KAAM,QAASE,OAAQ,KAE/B4K,KAAQ9K,KAAM,YAAaE,OAAQ,KAKnC6K,KAAQ/K,KAAM,cAAeE,OAAQ,KACrC8K,KAAQhL,KAAM,YAAcE,OAAQ,MACpC+K,KAAQjL,KAAM,eAAgBE,OAAQ,KACtCgL,KAAQlL,KAAM,QAASE,OAAQ,KAK/BiL,KAAQnL,KAAM,gBAAkBE,OAAQ,MAExCkL,KAAQpL,KAAM,WAOdqL,KAAQrL,KAAM,QACdsL,KAAQtL,KAAM,SACduL,KAAQvL,KAAM,SACdwL,KAAQxL,KAAM,YACdyL,KAAQzL,KAAM,QACd0L,KAAQ1L,KAAM,cAGd2L,KAAQ3L,KAAM,SA0BhB9B,GAAQ2B,EACA,OACE+L,IAAQ5L,KAAM,YAAaE,OAAQ,KACnC2L,IAAQ7L,KAAM,QAASE,OAAQ,KAC/B+G,KAAQjH,KAAM,QAASE,OAAQ,KAC/BiH,KAAQnH,KAAM,QAASE,OAAQ,KAC/BuK,KAAQzK,KAAM,YAAaE,OAAQ,IAAKV,SAAU4B,GAClDuJ,KAAQ3K,KAAM,iBAAkBE,OAAQ,IAAKV,SAAU4B,KAGjElD,EAAQ2B,EACA,WACEgC,IAAQ7B,KAAM,UAAWR,SAAU4B,GACnCyI,KAAQ7J,KAAM,QAASE,OAAQ,OAGzChC,EAAQ2B,EACA,WACEgK,KAAQ7J,KAAM,QAASE,OAAQ,OAGzChC,EAAQ2B,EACA,cACEuG,IAAQpG,KAAM,UAAWR,SAAU2B,KAoB7CjD,EAAQ2B,EACA,UACE4B,GAAQzB,KAAM,SACdwC,IAAQxC,KAAM,SAGxB9B,EAAQ2B,EACA,OACEiM,IAAQ9L,KAAM,QAASR,SAAUwB,KAG3C9C,EAAQ2B,EACA,cACEqG,IAAQlG,KAAM,SAAUR,SAAU0B,GAClCkF,IAAQpG,KAAM,UAAWR,SAAU2B,GACnCiK,KAAQpL,KAAM,OAAQE,OAAQ,MAcxC,IAAIN,KACA,UAAWpB,IACboB,EAAmB,WAAcI,KAAM,YAAaR,SAAU0B,GAC9DtB,EAAmB,WAAcI,KAAM,aAAcR,SAAU2B,GAC/DvB,EAAmB,WAAcI,KAAM,cAAeR,SAAU0B,GAChEtB,EAAmB,WAAcI,KAAM,eAAgBR,SAAU2B,GACjEvB,EAAmB,WAAcI,KAAM,UAAWR,SAAU0B,GAC5DtB,EAAmB,WAAcI,KAAM,WAAYR,SAAU2B,IAE3D,eAAiB7C,IACnBsB,EAAmB,WAAcI,KAAM,gBAErC,eAAiB1B,IACnBsB,EAAmB,WAAcI,KAAM,gBAErC,QAAUxB,IAEZoB,EAAmB,WAAcI,KAAM,YAEvCJ,EAAmB,WAAcI,KAAM,aACvCJ,EAAmB,WAAcI,KAAM,cACvCJ,EAAmB,WAAcI,KAAM,WACvCJ,EAAmB,WAAcI,KAAM,aAEvCJ,EAAmB,WAAcI,KAAM,QACvCJ,EAAmB,WAAcI,KAAM,OACvCJ,EAAmB,WAAcI,KAAM,UACvCJ,EAAmB,WAAcI,KAAM,YAazC,IAAIN,KACJA,GAAcwB,IACZa,IAAQ/B,KAAM,YAAaR,SAAU0B,GACrCc,IAAQhC,KAAM,cAAeR,SAAU0B,GACvCe,IAAQjC,KAAM,UAAWR,SAAU0B,IAErCxB,EAAcyB,IACZY,IAAQ/B,KAAM,aAAcR,SAAU2B,GACtCa,IAAQhC,KAAM,eAAgBR,SAAU2B,GACxCc,IAAQjC,KAAM,WAAYR,SAAU2B,IAEtCzB,EAAc0B,IACZU,IAAQ9B,KAAM,cAAeR,SAAU4B,IAGzClD,EAAQwB,EAAc0B,GAAS,OAC7B+F,KAAQnH,KAAM,iBAAkBR,SAAU4B,GAC1C6F,KAAQjH,KAAM,YAAaR,SAAU4B,KAEvClD,EAAQwB,EAAcwB,GAAO,WAC3B6K,KAAQ/L,KAAM,SAAUR,SAAU0B,KAEpChD,EAAQwB,EAAcyB,GAAQ,WAC5B4K,KAAQ/L,KAAM,UAAWR,SAAU2B,KAErCjD,EAAQwB,EAAcyB,GAAQ,WAC5B+E,IAAQlG,KAAM,UAAWR,SAAU2B,KAIrCjD,EAAQwB,EAAcyB,GAAQ,OAC5BiF,IAAQpG,KAAM,UAAWR,SAAU2B,KAGrCjD,EAAQwB,EAAc0B,GAAS,cAC7BS,IAAQ7B,KAAM,UAAWR,SAAU4B,KAGrClD,EAAQwB,EAAc0B,GAAS,cAC7BS,IAAQ7B,KAAM,UAAWR,SAAU4B,GACnCqJ,KAAQzK,KAAM,YAAaR,SAAU4B,GACrCuJ,KAAQ3K,KAAM,iBAAkBR,SAAU4B,GAC1CwJ,KAAQ5K,KAAM,gBAAiBR,SAAU4B,GACzCyJ,KAAQ7K,KAAM,eAAgBR,SAAU4B,IAgB1C,IAAIrB,IAEFiM,WAAajN,IAAK,SAClBkN,YAAclN,IAAK,SACnBmN,aAAenN,IAAK,WACpBoN,cAAgBpN,IAAK,WACrBqN,SAAWrN,IAAK,OAChBsN,UAAYtN,IAAK,OACjBuN,QAAUvN,IAAK,MACfwN,SAAWxN,IAAK,MAGhByN,aAAezN,IAAK,SACpB0N,OAAS1N,IAAK,KAGd2N,QAAU3N,IAAK,IAAKkB,SAAU,KAC9B0M,QAAU5N,IAAK,IAAKkB,SAAU,KAC9B2M,QAAU7N,IAAK,IAAKkB,SAAU,KAC9B4M,QAAU9N,IAAK,IAAKkB,SAAU,KAC9B6M,QAAU/N,IAAK,IAAKkB,SAAU,KAC9B8M,QAAUhO,IAAK,IAAKkB,SAAU,KAC9B+M,QAAUjO,IAAK,IAAKkB,SAAU,KAC9BgN,QAAUlO,IAAK,IAAKkB,SAAU,KAC9BiN,QAAUnO,IAAK,IAAKkB,SAAU,KAC9BkN,QAAUpO,IAAK,IAAKkB,SAAU,KAC9BmN,MAAQrO,IAAK,IAAKkB,SAAU,KAC5BoN,MAAQtO,IAAK,IAAKkB,SAAU,KAC5BqN,MAAQvO,IAAK,IAAKkB,SAAU,KAC5BsN,MAAQxO,IAAK,IAAKkB,SAAU,KAC5BuN,MAAQzO,IAAK,IAAKkB,SAAU,KAC5BwN,MAAQ1O,IAAK,IAAKkB,SAAU,KAC5ByN,MAAQ3O,IAAK,IAAKkB,SAAU,KAC5B0N,MAAQ5O,IAAK,IAAKkB,SAAU,KAC5B2N,MAAQ7O,IAAK,IAAKkB,SAAU,KAC5B4N,MAAQ9O,IAAK,IAAKkB,SAAU,KAC5B6N,MAAQ/O,IAAK,IAAKkB,SAAU,KAC5B8N,MAAQhP,IAAK,IAAKkB,SAAU,KAC5B+N,MAAQjP,IAAK,IAAKkB,SAAU,KAC5BgO,MAAQlP,IAAK,IAAKkB,SAAU,KAC5BiO,MAAQnP,IAAK,IAAKkB,SAAU,KAC5BkO,MAAQpP,IAAK,IAAKkB,SAAU,KAC5BmO,MAAQrP,IAAK,IAAKkB,SAAU,KAC5BoO,MAAQtP,IAAK,IAAKkB,SAAU,KAC5BqO,MAAQvP,IAAK,IAAKkB,SAAU,KAC5BsO,MAAQxP,IAAK,IAAKkB,SAAU,KAC5BuO,MAAQzP,IAAK,IAAKkB,SAAU,KAC5BwO,MAAQ1P,IAAK,IAAKkB,SAAU,KAC5ByO,MAAQ3P,IAAK,IAAKkB,SAAU,KAC5B0O,MAAQ5P,IAAK,IAAKkB,SAAU,KAC5B2O,MAAQ7P,IAAK,IAAKkB,SAAU,KAC5B4O,MAAQ9P,IAAK,IAAKkB,SAAU,KAC5B6O,SAAW/P,IAAK,KAChBgQ,SAAWhQ,IAAK,KAChBiQ,SAAWjQ,IAAK,KAChBkQ,SAAWlQ,IAAK,KAChBmQ,SAAWnQ,IAAK,KAChBoQ,SAAWpQ,IAAK,KAChBqQ,SAAWrQ,IAAK,KAChBsQ,SAAWtQ,IAAK,KAChBuQ,SAAWvQ,IAAK,KAChBwQ,SAAWxQ,IAAK,KAChByQ,gBAAkBzQ,IAAK,KACvB0Q,WAAa1Q,IAAK,KAClB2Q,aAAe3Q,IAAK,KACpB4Q,gBAAkB5Q,IAAK,KACvB6Q,eAAiB7Q,IAAK,KACtB8Q,cAAgB9Q,IAAK,KACrB+Q,WAAa/Q,IAAK,IAAKkB,SAAU,KACjC8P,OAAShR,IAAK,IAAKkB,SAAU,KAC7B+P,OAASjR,IAAK,IAAKkB,SAAU,KAC7BgQ,OAASlR,IAAK,IAAKkB,SAAU,KAC7BiQ,QAAUnR,IAAK,IAAKkB,SAAU,KAC9BkQ,OAASpR,IAAK,IAAKkB,SAAU,KAC7BmQ,WAAarR,IAAK,IAAKkB,SAAU,KACjCoQ,aAAetR,IAAK,IAAKkB,SAAU,KACnCqQ,WAAavR,IAAK,KAAMkB,SAAU,KAClCsQ,cAAgBxR,IAAK,IAAKkB,SAAU,KACpCuQ,OAASzR,IAAK,IAAMkB,SAAU,KAC9BwQ,eAAiB1R,IAAK,KAAMkB,SAAU,KAGxC/B,GAAQ6B,EAAgB,OACtBuM,QAAUvN,IAAK,QACfwN,SAAWxN,IAAK,SAKlB,IAAI2R,IACFC,IAAK,SACLC,WAAY,aACZC,KAAM,YACNC,GAAI,UACJC,MAAO,aACPC,KAAM,YACNC,IAAK,SACLC,KAAM,cACNC,eAAgB,iBAChBC,mBAAoB,qBACpBC,YAAa,cACbC,UAAW,UACXC,UAAW,UACXC,gBAAiB,SACjBC,MAAO,QACPC,MAAO,QACPC,KAAM,cAUJtR,EAAYxB,EAAMgB,EAAoB,OAE1C,KACE,GAAIN,GAAiBkB,GAAwB,YAAc,IAAIC,eAAc,IAC7E,MAAOkR,IA2DL,iBAAmBhU,IAAU,kBAAoBa,UAClD,WACC,QAASoT,GAAO/S,EAAGgT,EAAGC,GAChBD,IAAKhT,IACTL,OAAOuT,eAAelT,EAAGgT,EAAGC,GAS9B,GANAF,EAAOnR,cAAcuR,UAAW,QAAUC,IAAK,WAC7C,GAAI5S,GAAUH,EAAgBgT,KAC9B,OAAO7S,GAAUA,EAAQU,KAAO,MAI9B,OAASU,eAAcuR,UAAW,CACpC,GAAIG,GAAO3T,OAAO4T,yBAAyB3R,cAAcuR,UAAW,MACpExT,QAAOuT,eAAetR,cAAcuR,UAAW,OAASC,IAAK,WAC3D,GAAInT,GAAMqT,EAAKF,IAAII,KAAKH,KACxB,OAAOzB,GAAYpQ,eAAevB,GAAO2R,EAAY3R,GAAOA,KAIhE8S,EAAOnR,cAAcuR,UAAW,OAASC,IAAK,WAC5C,GAAI5S,GAAUH,EAAgBgT,KAC9B,OAAQ7S,IAAW,OAASA,GAAWA,EAAQP,IAAM,kBAGvD8S,EAAOnR,cAAcuR,UAAW,YAAcC,IAAK,WACjD,GAAI5S,GAAUH,EAAgBgT,KAC9B,OAAQ7S,IAAW,YAAcA,GAAWA,EAAQE,SAAWwB,KAGjE6Q,EAAOnR,cAAcuR,UAAW,UAAYC,IAAK,WAC/C,MAAO,SAKP,eAAiBtU,GAAO8C,gBAC5B9C,EAAO8C,cAAcP,YAAcA,GAGrCvC,EAAO2U,YAAc,SAASnT,GAC5B,KAAI,QAAUA,IAAd,CAGA,GAAIE,GAAUH,EAAgBC,EAC9BA,GAAMY,KAAOV,EAAUA,EAAQU,KAAO,GACtCZ,EAAML,IAAOO,GAAW,OAASA,GAAWA,EAAQP,IAAM,eAC1DK,EAAMI,SAAY,YAAcJ,GAASA,EAAMI,SAC5C,eAAiBJ,GAASA,EAAMK,YAChCH,GAAW,YAAcA,GAAWA,EAAQE,SAAWwB,EAC1D5B,EAAMgB,OAAS,MAGjBoS","file":"../../../../../../tmp/d20161219-24158-w8w8l8/keyboard.js20161219-24158-a6zo4o","sourcesContent":["(function(global) {\n  var nativeKeyboardEvent = ('KeyboardEvent' in global);\n  if (!nativeKeyboardEvent)\n    global.KeyboardEvent = function KeyboardEvent() { throw TypeError('Illegal constructor'); };\n\n  global.KeyboardEvent.DOM_KEY_LOCATION_STANDARD = 0x00; // Default or unknown location\n  global.KeyboardEvent.DOM_KEY_LOCATION_LEFT          = 0x01; // e.g. Left Alt key\n  global.KeyboardEvent.DOM_KEY_LOCATION_RIGHT         = 0x02; // e.g. Right Alt key\n  global.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD        = 0x03; // e.g. Numpad 0 or +\n\n  var STANDARD = window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,\n      LEFT = window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,\n      RIGHT = window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,\n      NUMPAD = window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;\n\n  //--------------------------------------------------------------------\n  //\n  // Utilities\n  //\n  //--------------------------------------------------------------------\n\n  function contains(s, ss) { return String(s).indexOf(ss) !== -1; }\n\n  var os = (function() {\n    if (contains(navigator.platform, 'Win')) { return 'win'; }\n    if (contains(navigator.platform, 'Mac')) { return 'mac'; }\n    if (contains(navigator.platform, 'CrOS')) { return 'cros'; }\n    if (contains(navigator.platform, 'Linux')) { return 'linux'; }\n    if (contains(navigator.userAgent, 'iPad') || contains(navigator.platform, 'iPod') || contains(navigator.platform, 'iPhone')) { return 'ios'; }\n    return '';\n  } ());\n\n  var browser = (function() {\n    if (contains(navigator.userAgent, 'Chrome/')) { return 'chrome'; }\n    if (contains(navigator.vendor, 'Apple')) { return 'safari'; }\n    if (contains(navigator.userAgent, 'MSIE')) { return 'ie'; }\n    if (contains(navigator.userAgent, 'Gecko/')) { return 'moz'; }\n    if (contains(navigator.userAgent, 'Opera/')) { return 'opera'; }\n    return '';\n  } ());\n\n  var browser_os = browser + '-' + os;\n\n  function mergeIf(baseTable, select, table) {\n    if (browser_os === select || browser === select || os === select) {\n      Object.keys(table).forEach(function(keyCode) {\n        baseTable[keyCode] = table[keyCode];\n      });\n    }\n  }\n\n  function remap(o, key) {\n    var r = {};\n    Object.keys(o).forEach(function(k) {\n      var item = o[k];\n      if (key in item) {\n        r[item[key]] = item;\n      }\n    });\n    return r;\n  }\n\n  function invert(o) {\n    var r = {};\n    Object.keys(o).forEach(function(k) {\n      r[o[k]] = k;\n    });\n    return r;\n  }\n\n  //--------------------------------------------------------------------\n  //\n  // Generic Mappings\n  //\n  //--------------------------------------------------------------------\n\n  // \"keyInfo\" is a dictionary:\n  //   code: string - name from DOM Level 3 KeyboardEvent code Values\n  //     https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-code.html\n  //   location (optional): number - one of the DOM_KEY_LOCATION values\n  //   keyCap (optional): string - keyboard label in en-US locale\n  // USB code Usage ID from page 0x07 unless otherwise noted (Informative)\n\n  // Map of keyCode to keyInfo\n  var keyCodeToInfoTable = {\n    // 0x01 - VK_LBUTTON\n    // 0x02 - VK_RBUTTON\n    0x03: { code: 'Cancel' }, // [USB: 0x9b] char \\x0018 ??? (Not in D3E)\n    // 0x04 - VK_MBUTTON\n    // 0x05 - VK_XBUTTON1\n    // 0x06 - VK_XBUTTON2\n    0x06: { code: 'Help' }, // [USB: 0x75] ???\n    // 0x07 - undefined\n    0x08: { code: 'Backspace' }, // [USB: 0x2a] Labelled Delete on Macintosh keyboards.\n    0x09: { code: 'Tab' }, // [USB: 0x2b]\n    // 0x0A-0x0B - reserved\n    0X0C: { code: 'Clear' }, // [USB: 0x9c] NumPad Center (Not in D3E)\n    0X0D: { code: 'Enter' }, // [USB: 0x28]\n    // 0x0E-0x0F - undefined\n\n    0x10: { code: 'Shift' },\n    0x11: { code: 'Control' },\n    0x12: { code: 'Alt' },\n    0x13: { code: 'Pause' }, // [USB: 0x48]\n    0x14: { code: 'CapsLock' }, // [USB: 0x39]\n    0x15: { code: 'KanaMode' }, // [USB: 0x88] - \"HangulMode\" for Korean layout\n    0x16: { code: 'HangulMode' }, // [USB: 0x90] 0x15 as well in MSDN VK table ???\n    0x17: { code: 'JunjaMode' }, // (Not in D3E)\n    0x18: { code: 'FinalMode' }, // (Not in D3E)\n    0x19: { code: 'KanjiMode' }, // [USB: 0x91] - \"HanjaMode\" for Korean layout\n    // 0x1A - undefined\n    0x1B: { code: 'Escape' }, // [USB: 0x29]\n    0x1C: { code: 'Convert' }, // [USB: 0x8a]\n    0x1D: { code: 'NonConvert' }, // [USB: 0x8b]\n    0x1E: { code: 'Accept' }, // (Not in D3E)\n    0x1F: { code: 'ModeChange' }, // (Not in D3E)\n\n    0x20: { code: 'Space' }, // [USB: 0x2c]\n    0x21: { code: 'PageUp' }, // [USB: 0x4b]\n    0x22: { code: 'PageDown' }, // [USB: 0x4e]\n    0x23: { code: 'End' }, // [USB: 0x4d]\n    0x24: { code: 'Home' }, // [USB: 0x4a]\n    0x25: { code: 'ArrowLeft' }, // [USB: 0x50]\n    0x26: { code: 'ArrowUp' }, // [USB: 0x52]\n    0x27: { code: 'ArrowRight' }, // [USB: 0x4f]\n    0x28: { code: 'ArrowDown' }, // [USB: 0x51]\n    0x29: { code: 'Select' }, // (Not in D3E)\n    0x2A: { code: 'Print' }, // (Not in D3E)\n    0x2B: { code: 'Execute' }, // [USB: 0x74] (Not in D3E)\n    0x2C: { code: 'PrintScreen' }, // [USB: 0x46]\n    0x2D: { code: 'Insert' }, // [USB: 0x49]\n    0x2E: { code: 'Delete' }, // [USB: 0x4c]\n    0x2F: { code: 'Help' }, // [USB: 0x75] ???\n\n    0x30: { code: 'Digit0', keyCap: '0' }, // [USB: 0x27] 0)\n    0x31: { code: 'Digit1', keyCap: '1' }, // [USB: 0x1e] 1!\n    0x32: { code: 'Digit2', keyCap: '2' }, // [USB: 0x1f] 2@\n    0x33: { code: 'Digit3', keyCap: '3' }, // [USB: 0x20] 3#\n    0x34: { code: 'Digit4', keyCap: '4' }, // [USB: 0x21] 4$\n    0x35: { code: 'Digit5', keyCap: '5' }, // [USB: 0x22] 5%\n    0x36: { code: 'Digit6', keyCap: '6' }, // [USB: 0x23] 6^\n    0x37: { code: 'Digit7', keyCap: '7' }, // [USB: 0x24] 7&\n    0x38: { code: 'Digit8', keyCap: '8' }, // [USB: 0x25] 8*\n    0x39: { code: 'Digit9', keyCap: '9' }, // [USB: 0x26] 9(\n    // 0x3A-0x40 - undefined\n\n    0x41: { code: 'KeyA', keyCap: 'a' }, // [USB: 0x04]\n    0x42: { code: 'KeyB', keyCap: 'b' }, // [USB: 0x05]\n    0x43: { code: 'KeyC', keyCap: 'c' }, // [USB: 0x06]\n    0x44: { code: 'KeyD', keyCap: 'd' }, // [USB: 0x07]\n    0x45: { code: 'KeyE', keyCap: 'e' }, // [USB: 0x08]\n    0x46: { code: 'KeyF', keyCap: 'f' }, // [USB: 0x09]\n    0x47: { code: 'KeyG', keyCap: 'g' }, // [USB: 0x0a]\n    0x48: { code: 'KeyH', keyCap: 'h' }, // [USB: 0x0b]\n    0x49: { code: 'KeyI', keyCap: 'i' }, // [USB: 0x0c]\n    0x4A: { code: 'KeyJ', keyCap: 'j' }, // [USB: 0x0d]\n    0x4B: { code: 'KeyK', keyCap: 'k' }, // [USB: 0x0e]\n    0x4C: { code: 'KeyL', keyCap: 'l' }, // [USB: 0x0f]\n    0x4D: { code: 'KeyM', keyCap: 'm' }, // [USB: 0x10]\n    0x4E: { code: 'KeyN', keyCap: 'n' }, // [USB: 0x11]\n    0x4F: { code: 'KeyO', keyCap: 'o' }, // [USB: 0x12]\n\n    0x50: { code: 'KeyP', keyCap: 'p' }, // [USB: 0x13]\n    0x51: { code: 'KeyQ', keyCap: 'q' }, // [USB: 0x14]\n    0x52: { code: 'KeyR', keyCap: 'r' }, // [USB: 0x15]\n    0x53: { code: 'KeyS', keyCap: 's' }, // [USB: 0x16]\n    0x54: { code: 'KeyT', keyCap: 't' }, // [USB: 0x17]\n    0x55: { code: 'KeyU', keyCap: 'u' }, // [USB: 0x18]\n    0x56: { code: 'KeyV', keyCap: 'v' }, // [USB: 0x19]\n    0x57: { code: 'KeyW', keyCap: 'w' }, // [USB: 0x1a]\n    0x58: { code: 'KeyX', keyCap: 'x' }, // [USB: 0x1b]\n    0x59: { code: 'KeyY', keyCap: 'y' }, // [USB: 0x1c]\n    0x5A: { code: 'KeyZ', keyCap: 'z' }, // [USB: 0x1d]\n    0x5B: { code: 'OSLeft', location: LEFT }, // [USB: 0xe3]\n    0x5C: { code: 'OSRight', location: RIGHT }, // [USB: 0xe7]\n    0x5D: { code: 'ContextMenu' }, // [USB: 0x65] Context Menu\n    // 0x5E - reserved\n    0x5F: { code: 'Standby' }, // [USB: 0x82] Sleep\n\n    0x60: { code: 'Numpad0', keyCap: '0', location: NUMPAD }, // [USB: 0x62]\n    0x61: { code: 'Numpad1', keyCap: '1', location: NUMPAD }, // [USB: 0x59]\n    0x62: { code: 'Numpad2', keyCap: '2', location: NUMPAD }, // [USB: 0x5a]\n    0x63: { code: 'Numpad3', keyCap: '3', location: NUMPAD }, // [USB: 0x5b]\n    0x64: { code: 'Numpad4', keyCap: '4', location: NUMPAD }, // [USB: 0x5c]\n    0x65: { code: 'Numpad5', keyCap: '5', location: NUMPAD }, // [USB: 0x5d]\n    0x66: { code: 'Numpad6', keyCap: '6', location: NUMPAD }, // [USB: 0x5e]\n    0x67: { code: 'Numpad7', keyCap: '7', location: NUMPAD }, // [USB: 0x5f]\n    0x68: { code: 'Numpad8', keyCap: '8', location: NUMPAD }, // [USB: 0x60]\n    0x69: { code: 'Numpad9', keyCap: '9', location: NUMPAD }, // [USB: 0x61]\n    0x6A: { code: 'NumpadMultiply', keyCap: '*', location: NUMPAD }, // [USB: 0x55]\n    0x6B: { code: 'NumpadAdd', keyCap: '+', location: NUMPAD }, // [USB: 0x57]\n    0x6C: { code: 'NumpadComma', keyCap: ',', location: NUMPAD }, // [USB: 0x85]\n    0x6D: { code: 'NumpadSubtract', keyCap: '-', location: NUMPAD }, // [USB: 0x56]\n    0x6E: { code: 'NumpadDecimal', keyCap: '.', location: NUMPAD }, // [USB: 0x63]\n    0x6F: { code: 'NumpadDivide', keyCap: '/', location: NUMPAD }, // [USB: 0x54]\n\n    0x70: { code: 'F1' }, // [USB: 0x3a]\n    0x71: { code: 'F2' }, // [USB: 0x3b]\n    0x72: { code: 'F3' }, // [USB: 0x3c]\n    0x73: { code: 'F4' }, // [USB: 0x3d]\n    0x74: { code: 'F5' }, // [USB: 0x3e]\n    0x75: { code: 'F6' }, // [USB: 0x3f]\n    0x76: { code: 'F7' }, // [USB: 0x40]\n    0x77: { code: 'F8' }, // [USB: 0x41]\n    0x78: { code: 'F9' }, // [USB: 0x42]\n    0x79: { code: 'F10' }, // [USB: 0x43]\n    0x7A: { code: 'F11' }, // [USB: 0x44]\n    0x7B: { code: 'F12' }, // [USB: 0x45]\n    0x7C: { code: 'F13' }, // [USB: 0x68]\n    0x7D: { code: 'F14' }, // [USB: 0x69]\n    0x7E: { code: 'F15' }, // [USB: 0x6a]\n    0x7F: { code: 'F16' }, // [USB: 0x6b]\n\n    0x80: { code: 'F17' }, // [USB: 0x6c]\n    0x81: { code: 'F18' }, // [USB: 0x6d]\n    0x82: { code: 'F19' }, // [USB: 0x6e]\n    0x83: { code: 'F20' }, // [USB: 0x6f]\n    0x84: { code: 'F21' }, // [USB: 0x70]\n    0x85: { code: 'F22' }, // [USB: 0x71]\n    0x86: { code: 'F23' }, // [USB: 0x72]\n    0x87: { code: 'F24' }, // [USB: 0x73]\n    // 0x88-0x8F - unassigned\n\n    0x90: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\n    0x91: { code: 'ScrollLock' }, // [USB: 0x47]\n    // 0x92-0x96 - OEM specific\n    // 0x97-0x9F - unassigned\n\n    // NOTE: 0xA0-0xA5 usually mapped to 0x10-0x12 in browsers\n    0xA0: { code: 'ShiftLeft', location: LEFT }, // [USB: 0xe1]\n    0xA1: { code: 'ShiftRight', location: RIGHT }, // [USB: 0xe5]\n    0xA2: { code: 'ControlLeft', location: LEFT }, // [USB: 0xe0]\n    0xA3: { code: 'ControlRight', location: RIGHT }, // [USB: 0xe4]\n    0xA4: { code: 'AltLeft', location: LEFT }, // [USB: 0xe2]\n    0xA5: { code: 'AltRight', location: RIGHT }, // [USB: 0xe6]\n\n    0xA6: { code: 'BrowserBack' }, // [USB: 0x0c/0x0224]\n    0xA7: { code: 'BrowserForward' }, // [USB: 0x0c/0x0225]\n    0xA8: { code: 'BrowserRefresh' }, // [USB: 0x0c/0x0227]\n    0xA9: { code: 'BrowserStop' }, // [USB: 0x0c/0x0226]\n    0xAA: { code: 'BrowserSearch' }, // [USB: 0x0c/0x0221]\n    0xAB: { code: 'BrowserFavorites' }, // [USB: 0x0c/0x0228]\n    0xAC: { code: 'BrowserHome' }, // [USB: 0x0c/0x0222]\n    0xAD: { code: 'VolumeMute' }, // [USB: 0x7f]\n    0xAE: { code: 'VolumeDown' }, // [USB: 0x81]\n    0xAF: { code: 'VolumeUp' }, // [USB: 0x80]\n\n    0xB0: { code: 'MediaTrackNext' }, // [USB: 0x0c/0x00b5]\n    0xB1: { code: 'MediaTrackPrevious' }, // [USB: 0x0c/0x00b6]\n    0xB2: { code: 'MediaStop' }, // [USB: 0x0c/0x00b7]\n    0xB3: { code: 'MediaPlayPause' }, // [USB: 0x0c/0x00cd]\n    0xB4: { code: 'LaunchMail' }, // [USB: 0x0c/0x018a]\n    0xB5: { code: 'MediaSelect' },\n    0xB6: { code: 'LaunchApp1' },\n    0xB7: { code: 'LaunchApp2' },\n    // 0xB8-0xB9 - reserved\n    0xBA: { code: 'Semicolon',  keyCap: ';' }, // [USB: 0x33] ;: (US Standard 101)\n    0xBB: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\n    0xBC: { code: 'Comma', keyCap: ',' }, // [USB: 0x36] ,<\n    0xBD: { code: 'Minus', keyCap: '-' }, // [USB: 0x2d] -_\n    0xBE: { code: 'Period', keyCap: '.' }, // [USB: 0x37] .>\n    0xBF: { code: 'Slash', keyCap: '/' }, // [USB: 0x38] /? (US Standard 101)\n\n    0xC0: { code: 'Backquote', keyCap: '`' }, // [USB: 0x35] `~ (US Standard 101)\n    // 0xC1-0xCF - reserved\n\n    // 0xD0-0xD7 - reserved\n    // 0xD8-0xDA - unassigned\n    0xDB: { code: 'BracketLeft', keyCap: '[' }, // [USB: 0x2f] [{ (US Standard 101)\n    0xDC: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\n    0xDD: { code: 'BracketRight', keyCap: ']' }, // [USB: 0x30] ]} (US Standard 101)\n    0xDE: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\n    // 0xDF - miscellaneous/varies\n\n    // 0xE0 - reserved\n    // 0xE1 - OEM specific\n    0xE2: { code: 'IntlBackslash',  keyCap: '\\\\' }, // [USB: 0x64] \\| (UK Standard 102)\n    // 0xE3-0xE4 - OEM specific\n    0xE5: { code: 'Process' }, // (Not in D3E)\n    // 0xE6 - OEM specific\n    // 0xE7 - VK_PACKET\n    // 0xE8 - unassigned\n    // 0xE9-0xEF - OEM specific\n\n    // 0xF0-0xF5 - OEM specific\n    0xF6: { code: 'Attn' }, // [USB: 0x9a] (Not in D3E)\n    0xF7: { code: 'CrSel' }, // [USB: 0xa3] (Not in D3E)\n    0xF8: { code: 'ExSel' }, // [USB: 0xa4] (Not in D3E)\n    0xF9: { code: 'EraseEof' }, // (Not in D3E)\n    0xFA: { code: 'Play' }, // (Not in D3E)\n    0xFB: { code: 'ZoomToggle' }, // (Not in D3E)\n    // 0xFC - VK_NONAME - reserved\n    // 0xFD - VK_PA1\n    0xFE: { code: 'Clear' } // [USB: 0x9c] (Not in D3E)\n  };\n\n  // No legacy keyCode, but listed in D3E:\n\n  // code: usb\n  // 'IntlHash': 0x070032,\n  // 'IntlRo': 0x070087,\n  // 'IntlYen': 0x070089,\n  // 'NumpadBackspace': 0x0700bb,\n  // 'NumpadClear': 0x0700d8,\n  // 'NumpadClearEntry': 0x0700d9,\n  // 'NumpadMemoryAdd': 0x0700d3,\n  // 'NumpadMemoryClear': 0x0700d2,\n  // 'NumpadMemoryRecall': 0x0700d1,\n  // 'NumpadMemoryStore': 0x0700d0,\n  // 'NumpadMemorySubtract': 0x0700d4,\n  // 'NumpadParenLeft': 0x0700b6,\n  // 'NumpadParenRight': 0x0700b7,\n\n  //--------------------------------------------------------------------\n  //\n  // Browser/OS Specific Mappings\n  //\n  //--------------------------------------------------------------------\n\n  mergeIf(keyCodeToInfoTable,\n          'moz', {\n            0x3B: { code: 'Semicolon', keyCap: ';' }, // [USB: 0x33] ;: (US Standard 101)\n            0x3D: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\n            0x6B: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\n            0x6D: { code: 'Minus', keyCap: '-' }, // [USB: 0x2d] -_\n            0xBB: { code: 'NumpadAdd', keyCap: '+', location: NUMPAD }, // [USB: 0x57]\n            0xBD: { code: 'NumpadSubtract', keyCap: '-', location: NUMPAD } // [USB: 0x56]\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'moz-mac', {\n            0x0C: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\n            0xAD: { code: 'Minus', keyCap: '-' } // [USB: 0x2d] -_\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'moz-win', {\n            0xAD: { code: 'Minus', keyCap: '-' } // [USB: 0x2d] -_\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'chrome-mac', {\n            0x5D: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n          });\n\n  // Windows via Bootcamp (!)\n  if (0) {\n    mergeIf(keyCodeToInfoTable,\n            'chrome-win', {\n              0xC0: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\n              0xDE: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\n              0xDF: { code: 'Backquote', keyCap: '`' } // [USB: 0x35] `~ (US Standard 101)\n            });\n\n    mergeIf(keyCodeToInfoTable,\n            'ie', {\n              0xC0: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\n              0xDE: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\n              0xDF: { code: 'Backquote', keyCap: '`' } // [USB: 0x35] `~ (US Standard 101)\n            });\n  }\n\n  mergeIf(keyCodeToInfoTable,\n          'safari', {\n            0x03: { code: 'Enter' }, // [USB: 0x28] old Safari\n            0x19: { code: 'Tab' } // [USB: 0x2b] old Safari for Shift+Tab\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'ios', {\n            0x0A: { code: 'Enter', location: STANDARD } // [USB: 0x28]\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'safari-mac', {\n            0x5B: { code: 'OSLeft', location: LEFT }, // [USB: 0xe3]\n            0x5D: { code: 'OSRight', location: RIGHT }, // [USB: 0xe7]\n            0xE5: { code: 'KeyQ', keyCap: 'Q' } // [USB: 0x14] On alternate presses, Ctrl+Q sends this\n          });\n\n  //--------------------------------------------------------------------\n  //\n  // Identifier Mappings\n  //\n  //--------------------------------------------------------------------\n\n  // Cases where newer-ish browsers send keyIdentifier which can be\n  // used to disambiguate keys.\n\n  // keyIdentifierTable[keyIdentifier] -> keyInfo\n\n  var keyIdentifierTable = {};\n  if ('cros' === os) {\n    keyIdentifierTable['U+00A0'] = { code: 'ShiftLeft', location: LEFT };\n    keyIdentifierTable['U+00A1'] = { code: 'ShiftRight', location: RIGHT };\n    keyIdentifierTable['U+00A2'] = { code: 'ControlLeft', location: LEFT };\n    keyIdentifierTable['U+00A3'] = { code: 'ControlRight', location: RIGHT };\n    keyIdentifierTable['U+00A4'] = { code: 'AltLeft', location: LEFT };\n    keyIdentifierTable['U+00A5'] = { code: 'AltRight', location: RIGHT };\n  }\n  if ('chrome-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = { code: 'ContextMenu' };\n  }\n  if ('safari-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = { code: 'ContextMenu' };\n  }\n  if ('ios' === os) {\n    // These only generate keyup events\n    keyIdentifierTable['U+0010'] = { code: 'Function' };\n\n    keyIdentifierTable['U+001C'] = { code: 'ArrowLeft' };\n    keyIdentifierTable['U+001D'] = { code: 'ArrowRight' };\n    keyIdentifierTable['U+001E'] = { code: 'ArrowUp' };\n    keyIdentifierTable['U+001F'] = { code: 'ArrowDown' };\n\n    keyIdentifierTable['U+0001'] = { code: 'Home' }; // [USB: 0x4a] Fn + ArrowLeft\n    keyIdentifierTable['U+0004'] = { code: 'End' }; // [USB: 0x4d] Fn + ArrowRight\n    keyIdentifierTable['U+000B'] = { code: 'PageUp' }; // [USB: 0x4b] Fn + ArrowUp\n    keyIdentifierTable['U+000C'] = { code: 'PageDown' }; // [USB: 0x4e] Fn + ArrowDown\n  }\n\n  //--------------------------------------------------------------------\n  //\n  // Location Mappings\n  //\n  //--------------------------------------------------------------------\n\n  // Cases where newer-ish browsers send location/keyLocation which\n  // can be used to disambiguate keys.\n\n  // locationTable[location][keyCode] -> keyInfo\n  var locationTable = [];\n  locationTable[LEFT] = {\n    0x10: { code: 'ShiftLeft', location: LEFT }, // [USB: 0xe1]\n    0x11: { code: 'ControlLeft', location: LEFT }, // [USB: 0xe0]\n    0x12: { code: 'AltLeft', location: LEFT } // [USB: 0xe2]\n  };\n  locationTable[RIGHT] = {\n    0x10: { code: 'ShiftRight', location: RIGHT }, // [USB: 0xe5]\n    0x11: { code: 'ControlRight', location: RIGHT }, // [USB: 0xe4]\n    0x12: { code: 'AltRight', location: RIGHT } // [USB: 0xe6]\n  };\n  locationTable[NUMPAD] = {\n    0x0D: { code: 'NumpadEnter', location: NUMPAD } // [USB: 0x58]\n  };\n\n  mergeIf(locationTable[NUMPAD], 'moz', {\n    0x6D: { code: 'NumpadSubtract', location: NUMPAD }, // [USB: 0x56]\n    0x6B: { code: 'NumpadAdd', location: NUMPAD } // [USB: 0x57]\n  });\n  mergeIf(locationTable[LEFT], 'moz-mac', {\n    0xE0: { code: 'OSLeft', location: LEFT } // [USB: 0xe3]\n  });\n  mergeIf(locationTable[RIGHT], 'moz-mac', {\n    0xE0: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n  });\n  mergeIf(locationTable[RIGHT], 'moz-win', {\n    0x5B: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n  });\n\n\n  mergeIf(locationTable[RIGHT], 'mac', {\n    0x5D: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n  });\n\n  mergeIf(locationTable[NUMPAD], 'chrome-mac', {\n    0x0C: { code: 'NumLock', location: NUMPAD } // [USB: 0x53]\n  });\n\n  mergeIf(locationTable[NUMPAD], 'safari-mac', {\n    0x0C: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\n    0xBB: { code: 'NumpadAdd', location: NUMPAD }, // [USB: 0x57]\n    0xBD: { code: 'NumpadSubtract', location: NUMPAD }, // [USB: 0x56]\n    0xBE: { code: 'NumpadDecimal', location: NUMPAD }, // [USB: 0x63]\n    0xBF: { code: 'NumpadDivide', location: NUMPAD } // [USB: 0x54]\n  });\n\n\n  //--------------------------------------------------------------------\n  //\n  // Key Values\n  //\n  //--------------------------------------------------------------------\n\n  // Mapping from `code` values to `key` values. Values defined at:\n  // https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-key.html\n  // Entries are only provided when `key` differs from `code`. If\n  // printable, `shiftKey` has the shifted printable character. This\n  // assumes US Standard 101 layout\n\n  var codeToKeyTable = {\n    // Modifier Keys\n    ShiftLeft: { key: 'Shift' },\n    ShiftRight: { key: 'Shift' },\n    ControlLeft: { key: 'Control' },\n    ControlRight: { key: 'Control' },\n    AltLeft: { key: 'Alt' },\n    AltRight: { key: 'Alt' },\n    OSLeft: { key: 'OS' },\n    OSRight: { key: 'OS' },\n\n    // Whitespace Keys\n    NumpadEnter: { key: 'Enter' },\n    Space: { key: ' ' },\n\n    // Printable Keys\n    Digit0: { key: '0', shiftKey: ')' },\n    Digit1: { key: '1', shiftKey: '!' },\n    Digit2: { key: '2', shiftKey: '@' },\n    Digit3: { key: '3', shiftKey: '#' },\n    Digit4: { key: '4', shiftKey: '$' },\n    Digit5: { key: '5', shiftKey: '%' },\n    Digit6: { key: '6', shiftKey: '^' },\n    Digit7: { key: '7', shiftKey: '&' },\n    Digit8: { key: '8', shiftKey: '*' },\n    Digit9: { key: '9', shiftKey: '(' },\n    KeyA: { key: 'a', shiftKey: 'A' },\n    KeyB: { key: 'b', shiftKey: 'B' },\n    KeyC: { key: 'c', shiftKey: 'C' },\n    KeyD: { key: 'd', shiftKey: 'D' },\n    KeyE: { key: 'e', shiftKey: 'E' },\n    KeyF: { key: 'f', shiftKey: 'F' },\n    KeyG: { key: 'g', shiftKey: 'G' },\n    KeyH: { key: 'h', shiftKey: 'H' },\n    KeyI: { key: 'i', shiftKey: 'I' },\n    KeyJ: { key: 'j', shiftKey: 'J' },\n    KeyK: { key: 'k', shiftKey: 'K' },\n    KeyL: { key: 'l', shiftKey: 'L' },\n    KeyM: { key: 'm', shiftKey: 'M' },\n    KeyN: { key: 'n', shiftKey: 'N' },\n    KeyO: { key: 'o', shiftKey: 'O' },\n    KeyP: { key: 'p', shiftKey: 'P' },\n    KeyQ: { key: 'q', shiftKey: 'Q' },\n    KeyR: { key: 'r', shiftKey: 'R' },\n    KeyS: { key: 's', shiftKey: 'S' },\n    KeyT: { key: 't', shiftKey: 'T' },\n    KeyU: { key: 'u', shiftKey: 'U' },\n    KeyV: { key: 'v', shiftKey: 'V' },\n    KeyW: { key: 'w', shiftKey: 'W' },\n    KeyX: { key: 'x', shiftKey: 'X' },\n    KeyY: { key: 'y', shiftKey: 'Y' },\n    KeyZ: { key: 'z', shiftKey: 'Z' },\n    Numpad0: { key: '0' },\n    Numpad1: { key: '1' },\n    Numpad2: { key: '2' },\n    Numpad3: { key: '3' },\n    Numpad4: { key: '4' },\n    Numpad5: { key: '5' },\n    Numpad6: { key: '6' },\n    Numpad7: { key: '7' },\n    Numpad8: { key: '8' },\n    Numpad9: { key: '9' },\n    NumpadMultiply: { key: '*' },\n    NumpadAdd: { key: '+' },\n    NumpadComma: { key: ',' },\n    NumpadSubtract: { key: '-' },\n    NumpadDecimal: { key: '.' },\n    NumpadDivide: { key: '/' },\n    Semicolon: { key: ';', shiftKey: ':' },\n    Equal: { key: '=', shiftKey: '+' },\n    Comma: { key: ',', shiftKey: '<' },\n    Minus: { key: '-', shiftKey: '_' },\n    Period: { key: '.', shiftKey: '>' },\n    Slash: { key: '/', shiftKey: '?' },\n    Backquote: { key: '`', shiftKey: '~' },\n    BracketLeft: { key: '[', shiftKey: '{' },\n    Backslash: { key: '\\\\', shiftKey: '|' },\n    BracketRight: { key: ']', shiftKey: '}' },\n    Quote: { key: '\\'', shiftKey: '\"' },\n    IntlBackslash: { key: '\\\\', shiftKey: '|' }\n  };\n\n  mergeIf(codeToKeyTable, 'mac', {\n    OSLeft: { key: 'Meta' },\n    OSRight: { key: 'Meta' }\n  });\n\n  // Corrections for 'key' names in older browsers (e.g. FF36-)\n  // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent.key#Key_values\n  var keyFixTable = {\n    Esc: 'Escape',\n    Nonconvert: 'NonConvert',\n    Left: 'ArrowLeft',\n    Up: 'ArrowUp',\n    Right: 'ArrowRight',\n    Down: 'ArrowDown',\n    Del: 'Delete',\n    Menu: 'ContextMenu',\n    MediaNextTrack: 'MediaTrackNext',\n    MediaPreviousTrack: 'MediaTrackPrevious',\n    SelectMedia: 'MediaSelect',\n    HalfWidth: 'Hankaku',\n    FullWidth: 'Zenkaku',\n    RomanCharacters: 'Romaji',\n    Crsel: 'CrSel',\n    Exsel: 'ExSel',\n    Zoom: 'ZoomToggle'\n  };\n\n  //--------------------------------------------------------------------\n  //\n  // Exported Functions\n  //\n  //--------------------------------------------------------------------\n\n\n  var codeTable = remap(keyCodeToInfoTable, 'code');\n\n  try {\n    var nativeLocation = nativeKeyboardEvent && ('location' in new KeyboardEvent(''));\n  } catch (_) {}\n\n  function keyInfoForEvent(event) {\n    var keyCode = 'keyCode' in event ? event.keyCode : 'which' in event ? event.which : 0;\n    var keyInfo = (function(){\n      if (nativeLocation || 'keyLocation' in event) {\n        var location = nativeLocation ? event.location : event.keyLocation;\n        if (location && keyCode in locationTable[location]) {\n          return locationTable[location][keyCode];\n        }\n      }\n      if ('keyIdentifier' in event && event.keyIdentifier in keyIdentifierTable) {\n        return keyIdentifierTable[event.keyIdentifier];\n      }\n      if (keyCode in keyCodeToInfoTable) {\n        return keyCodeToInfoTable[keyCode];\n      }\n      return null;\n    }());\n\n    // TODO: Track these down and move to general tables\n    if (0) {\n      // TODO: Map these for newerish browsers?\n      // TODO: iOS only?\n      // TODO: Override with more common keyIdentifier name?\n      switch (event.keyIdentifier) {\n      case 'U+0010': keyInfo = { code: 'Function' }; break;\n      case 'U+001C': keyInfo = { code: 'ArrowLeft' }; break;\n      case 'U+001D': keyInfo = { code: 'ArrowRight' }; break;\n      case 'U+001E': keyInfo = { code: 'ArrowUp' }; break;\n      case 'U+001F': keyInfo = { code: 'ArrowDown' }; break;\n      }\n    }\n\n    if (!keyInfo)\n      return null;\n\n    var key = (function() {\n      var entry = codeToKeyTable[keyInfo.code];\n      if (!entry) return keyInfo.code;\n      return (event.shiftKey && 'shiftKey' in entry) ? entry.shiftKey : entry.key;\n    }());\n\n    return {\n      code: keyInfo.code,\n      key: key,\n      location: keyInfo.location,\n      keyCap: keyInfo.keyCap\n    };\n  }\n\n  function queryKeyCap(code, locale) {\n    code = String(code);\n    if (!codeTable.hasOwnProperty(code)) return 'Undefined';\n    if (locale && String(locale).toLowerCase() !== 'en-us') throw Error('Unsupported locale');\n    var keyInfo = codeTable[code];\n    return keyInfo.keyCap || keyInfo.code || 'Undefined';\n  }\n\n  if ('KeyboardEvent' in global && 'defineProperty' in Object) {\n    (function() {\n      function define(o, p, v) {\n        if (p in o) return;\n        Object.defineProperty(o, p, v);\n      }\n\n      define(KeyboardEvent.prototype, 'code', { get: function() {\n        var keyInfo = keyInfoForEvent(this);\n        return keyInfo ? keyInfo.code : '';\n      }});\n\n      // Fix for nonstandard `key` values (FF36-)\n      if ('key' in KeyboardEvent.prototype) {\n        var desc = Object.getOwnPropertyDescriptor(KeyboardEvent.prototype, 'key');\n        Object.defineProperty(KeyboardEvent.prototype, 'key', { get: function() {\n          var key = desc.get.call(this);\n          return keyFixTable.hasOwnProperty(key) ? keyFixTable[key] : key;\n        }});\n      }\n\n      define(KeyboardEvent.prototype, 'key', { get: function() {\n        var keyInfo = keyInfoForEvent(this);\n        return (keyInfo && 'key' in keyInfo) ? keyInfo.key : 'Unidentified';\n      }});\n\n      define(KeyboardEvent.prototype, 'location', { get: function() {\n        var keyInfo = keyInfoForEvent(this);\n        return (keyInfo && 'location' in keyInfo) ? keyInfo.location : STANDARD;\n      }});\n\n      define(KeyboardEvent.prototype, 'locale', { get: function() {\n        return '';\n      }});\n    }());\n  }\n\n  if (!('queryKeyCap' in global.KeyboardEvent))\n    global.KeyboardEvent.queryKeyCap = queryKeyCap;\n\n  // Helper for IE8-\n  global.identifyKey = function(event) {\n    if ('code' in event)\n      return;\n\n    var keyInfo = keyInfoForEvent(event);\n    event.code = keyInfo ? keyInfo.code : '';\n    event.key = (keyInfo && 'key' in keyInfo) ? keyInfo.key : 'Unidentified';\n    event.location = ('location' in event) ? event.location :\n      ('keyLocation' in event) ? event.keyLocation :\n      (keyInfo && 'location' in keyInfo) ? keyInfo.location : STANDARD;\n    event.locale = '';\n  };\n\n}(self));\n"]}